/*
Github Tooltip jquery widget
http://robinradic.github.io/github-jquery-widgets

Copyright Â© 2014 Robin Radic - MIT License (http://radic.mit-license.org)
*/
!function(){var a=Handlebars.template,e=Handlebars.templates=Handlebars.templates||{};e["github.popover.commits"]=a({1:function(a,e,n,t){var l,s=e.helperMissing,i=this.escapeExpression,r=this.lambda;return'            <li class="'+i((e.evenOdd||a&&a.evenOdd||s).call(a,t&&t.index,"in","out",{name:"evenOdd",hash:{},data:t}))+'">\n                <img class="avatar" src="'+i(r(null!=(l=null!=a?a.author:a)?l.avatar_url:l,a))+'" alt="Avatar" />\n                <div class="commit-message">\n                    <span class="arrow"></span>\n                    <a href="#" class="commit-author">'+i(r(null!=(l=null!=(l=null!=a?a.commit:a)?l.author:l)?l.name:l,a))+'</a>\n                    <span class="pull-right">\n                    <span class="label label-success">+'+i(r(null!=(l=null!=a?a.stats:a)?l.additions:l,a))+'</span>\n                    <span class="label label-danger">-'+i(r(null!=(l=null!=a?a.stats:a)?l.deletions:l,a))+'</span>\n                        </span>\n                    <br>\n                    <span class="commit-body">'+i(r(null!=(l=null!=a?a.commit:a)?l.message:l,a))+"</span>\n                </div>\n            </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,e,n,t){var l,s=this.lambda,i=this.escapeExpression,r=e.helperMissing,o='<script type="text/x-handlebars-template">\n    <div class="github-events-commits-popover">\n        <div>\n            <h4>'+i(s(null!=(l=null!=(l=null!=a?a.event:a)?l.actor:l)?l.login:l,a))+'</h4>\n            <span class="commit-desc"> Pushed '+i(s(null!=(l=null!=(l=null!=a?a.event:a)?l.payload:l)?l.size:l,a))+' commits. </span>\n            <div class="commit-info">\n                <i class="fa fa-github"></i>\n                <span>'+i(s(null!=(l=null!=(l=null!=a?a.event:a)?l.repo:l)?l.name:l,a))+'</span>\n            </div>\n            <div class="commit-info">\n                <i class="fa fa-code-fork"></i>\n                <span>'+i((e.branchName||a&&a.branchName||r).call(a,null!=a?a.event:a,{name:"branchName",hash:{},data:t}))+'</span>\n            </div>\n        </div>\n\n        <ul class="commit-commits">\n';return l=e.each.call(a,null!=a?a.commits:a,{name:"each",hash:{},fn:this.program(1,t),inverse:this.noop,data:t}),null!=l&&(o+=l),o+"        </ul>\n    </div>\n</script>\n"},useData:!0}),e["github.popover"]=a({1:function(a){var e,n=this.lambda,t=this.escapeExpression;return'            <div class="profile">\n                <img src="'+t(n(null!=(e=null!=a?a.user:a)?e.avatar_url:e,a))+'" class="avatar">\n                <a href="'+t(n(null!=(e=null!=a?a.user:a)?e.html_url:e,a))+'" class="name">'+t(n(null!=(e=null!=a?a.user:a)?e.name:e,a))+'</a>\n\n                <div class="followMe">\n                    <a href="'+t(n(null!=(e=null!=a?a.user:a)?e.html_url:e,a))+'" class="follow-button">Follow @'+t(n(null!=(e=null!=a?a.user:a)?e.login:e,a))+'</a>\n                    <span class="followers">'+t(n(null!=(e=null!=a?a.user:a)?e.followers:e,a))+"</span>\n                </div>\n            </div>\n"},3:function(a,e,n,t){var l,s='            <div class="languages">\n                ';return l=e["if"].call(a,null!=(l=null!=a?a.options:a)?l.languagesHeaderText:l,{name:"if",hash:{},fn:this.program(4,t),inverse:this.noop,data:t}),null!=l&&(s+=l),s+='\n                <table class="languages-list">\n                    <thead>\n                    <tr>\n                        <th>Language</th>\n                        <th>Lines of code</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n',l=e.each.call(a,null!=a?a.languages:a,{name:"each",hash:{},fn:this.program(6,t),inverse:this.noop,data:t}),null!=l&&(s+=l),s+"                    </tbody>\n                </table>\n            </div>\n"},4:function(a){var e,n=this.lambda,t=this.escapeExpression;return'<span class="header">'+t(n(null!=(e=null!=a?a.options:a)?e.languagesHeaderText:e,a))+"</span>"},6:function(a,e,n,t){var l=e.helperMissing,s=this.escapeExpression;return"                        <tr>\n                            <td>"+s((e.arrayIndex||a&&a.arrayIndex||l).call(a,a,0,{name:"arrayIndex",hash:{},data:t}))+"</td>\n                            <td>\n                                <small>"+s((e.arrayIndex||a&&a.arrayIndex||l).call(a,a,1,{name:"arrayIndex",hash:{},data:t}))+"</small>\n                            </td>\n                        </tr>\n"},8:function(a,e,n,t){var l,s='            <div class="repos">\n                ';return l=e["if"].call(a,null!=(l=null!=a?a.options:a)?l.repositoriesHeaderText:l,{name:"if",hash:{},fn:this.program(9,t),inverse:this.noop,data:t}),null!=l&&(s+=l),s+="\n",l=e.each.call(a,null!=a?a.repositories:a,{name:"each",hash:{},fn:this.program(11,t),inverse:this.noop,data:t}),null!=l&&(s+=l),s+"            </div>\n"},9:function(a){var e,n=this.lambda,t=this.escapeExpression;return'<span class="header">'+t(n(null!=(e=null!=a?a.options:a)?e.repositoriesHeaderText:e,a))+"</span>"},11:function(a,e,n,t){var l,s="function",i=e.helperMissing,r=this.escapeExpression;return'                    <a href="'+r((l=null!=(l=e.html_url||(null!=a?a.html_url:a))?l:i,typeof l===s?l.call(a,{name:"html_url",hash:{},data:t}):l))+'" class="repo-link" data-repository="'+r((l=null!=(l=e.name||(null!=a?a.name:a))?l:i,typeof l===s?l.call(a,{name:"name",hash:{},data:t}):l))+'" title="'+r((l=null!=(l=e.description||(null!=a?a.description:a))?l:i,typeof l===s?l.call(a,{name:"description",hash:{},data:t}):l))+'">\n                        <span class="repo-name">'+r((l=null!=(l=e.name||(null!=a?a.name:a))?l:i,typeof l===s?l.call(a,{name:"name",hash:{},data:t}):l))+'</span><span class="updated">Updated: '+r((l=null!=(l=e.updated_at_formatted||(null!=a?a.updated_at_formatted:a))?l:i,typeof l===s?l.call(a,{name:"updated_at_formatted",hash:{},data:t}):l))+'</span><span class="star">'+r((l=null!=(l=e.stargazers_count||(null!=a?a.stargazers_count:a))?l:i,typeof l===s?l.call(a,{name:"stargazers_count",hash:{},data:t}):l))+"</span>\n                    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,e,n,t){var l,s=this.lambda,i=this.escapeExpression,r='<script type="text/x-handlebars-template">\n    <div data-username="'+i(s(null!=(l=null!=a?a.user:a)?l.login:l,a))+'" class="'+i(s(null!=(l=null!=a?a.options:a)?l.className:l,a))+'">\n';return l=e["if"].call(a,null!=(l=null!=a?a.options:a)?l.showProfile:l,{name:"if",hash:{},fn:this.program(1,t),inverse:this.noop,data:t}),null!=l&&(r+=l),l=e["if"].call(a,null!=(l=null!=a?a.options:a)?l.showLanguages:l,{name:"if",hash:{},fn:this.program(3,t),inverse:this.noop,data:t}),null!=l&&(r+=l),r+="\n",l=e["if"].call(a,null!=(l=null!=a?a.options:a)?l.showRepositories:l,{name:"if",hash:{},fn:this.program(8,t),inverse:this.noop,data:t}),null!=l&&(r+=l),r+"    </div>\n</script>\n"},useData:!0}),e["github.popover.user"]=a({1:function(a,e,n,t){var l,s="function",i=e.helperMissing,r=this.escapeExpression;return'<div class="profile-usertitle-job">'+r((l=null!=(l=e.company||(null!=a?a.company:a))?l:i,typeof l===s?l.call(a,{name:"company",hash:{},data:t}):l))+"</div>"},3:function(a,e,n,t){var l,s="function",i=e.helperMissing,r=this.escapeExpression;return'<div class="profile-usertitle-job">'+r((l=null!=(l=e.loctation||(null!=a?a.loctation:a))?l:i,typeof l===s?l.call(a,{name:"loctation",hash:{},data:t}):l))+"</div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,e,n,t){var l,s,i="function",r=e.helperMissing,o=this.escapeExpression,u='<script type="text/x-handlebars-template">\n    <div class="github-popover-user">\n        <div class="profile-userpic">\n            <img src="'+o((s=null!=(s=e.avatar_url||(null!=a?a.avatar_url:a))?s:r,typeof s===i?s.call(a,{name:"avatar_url",hash:{},data:t}):s))+'" class="img-responsive" alt="">\n        </div>\n        <div class="profile-usertitle">\n            <div class="profile-usertitle-name">\n                '+o((e["default"]||a&&a["default"]||r).call(a,null!=a?a.name:a,null!=a?a.login:a,{name:"default",hash:{},data:t}))+"\n            </div>\n\n            ";return l=e["if"].call(a,null!=a?a.company:a,{name:"if",hash:{},fn:this.program(1,t),inverse:this.noop,data:t}),null!=l&&(u+=l),u+="\n\n            ",l=e["if"].call(a,null!=a?a.location:a,{name:"if",hash:{},fn:this.program(3,t),inverse:this.noop,data:t}),null!=l&&(u+=l),u+'\n\n        </div>\n        <div class="profile-userbuttons">\n            <span class="label label-info"> Click for dropdown menu </span>\n        </div>\n    </div>\n</script>\n\n'},useData:!0})}(),function(a){a(jQuery,radic)}(function(a,e){a.widget("radic.githubPopover",a.github.widget,{version:"0.0.1",options:{type:null,bindPopover:function(a,e){return a.popover(e)},popover:{html:!0,trigger:"focus",container:"body",placement:"right",template:'<div class="popover popover-github" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'},event:{},user:{},repo:{}},_data:{},_types:["event","repo","user"],refresh:function(){var a=this;a.data={},a._trigger("refresh"),a.element.html(""),a._spin(),a._getData(function(){a._spin(!1),a.repaint(),a._trigger("refreshed"),e.github.async(!0)})},repaint:function(){var e=this;e._trigger("repaint"),e.element.html("");var n=e._compile(e.options.template,a.extend({options:e.options},e._data));e.element.html(n),e._trigger("repainted")},_create:function(){return e.isString(this.options.type)&&-1!==this._types.indexOf(this.options.type)?(this["_popover_"+this.options.type](),void 0):(console.error("githubPopover requires a valid type ("+this._types.join(", ")+'). "'),void 0)},_bindPopover:function(a,e){return e=_.extend(e,this.options.popover,{content:function(){}}),a.popover(e)},_popover_user:function(){var a=this;this.options.bindPopover(this.element,{html:!0,content:function(){e.github.async(!1);var n=a.element.data("github-user"),t=e.github.users(n);console.log("user",t.data),e.github.async(!0);var l=a._compile("github.popover.user",t.data);return console.log("compiled",l[0].outerHTML),l[0].outerHTML}})},_destroy:function(){this.element.html(""),this._trigger("destroyed",null)}}),a.radic.githubPopover.redo=function(){a("*[data-github-popover]").each(function(){var e=a(this),n=e.data("github-popover");console.log("popoveah"),e.githubPopover({type:n})})},a(function(){a.radic.githubPopover.redo()})});